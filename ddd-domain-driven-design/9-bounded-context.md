# 9장 도메인 모델과 Bounded Context

## 도메인 모델과 경계

* 처음 도메인 모델을 만들 때 빠지기 쉬운 함정이 도메인을 완벽하게 표현하는 단일 모델을 만드려고 하는 것
  * 한 도메인은 여러 하위 도메인으로 구분
  * 한 개의 모델로 여러 하위 도메인을 모두 표현하려고 하면 하위 도메인에 맞지 않는 모델을 만들게 됨
    * 하위 도메인마다 사용하는 용어가 다르고, 같은 대상이라도 지칭하는 용어가 다를 수 있기 떄문
  * 즉, 하위 도메인마다 모델을 만들어 사용해야 한다.

## BOUNDED CONTEXT

* 모델의 경계를 결정하며, 한 개의 Bounded Context는 논리적으로 한 개의 모델을 갖는다
* Bounded Context는 용어를 기준으로 구분
* 이상적으로 하위 도메인과 Bounded Context가 1대1 관계를 가지면 좋지만, 한 도메인에 2개의 Bounded Context가 존재할 수도 있고, 용어를 명확하게 하지 못해 두 하위 도메인에 한 Bounded Context가 존재할 수도 있음
  * 여러 하위 도메인을 한 Bounded Context에서 개발할 경우, 하위 도메인의 모델이 뒤섞이지 않도록 하는 것
  * 전체 하위 도메인을 위한 단일 모델을 만들고 싶은 유혹에 빠지기 쉽지만, 결과적으로 **개별 하위 도메인을 제대로 반영하지 못해 기능 확장이 어렵게 되는 경우가 발생**
  * **한 개의 Bounded Context에서 여러 하위 도메인을 포함하더라도, 하위 도메인마다 구분되는 패키지를 갖도록 구현**해야 하위 도메인을 위한 모델이 서로 뒤섞이지 않아 하위 도메인마다 Bounded Context를 갖는 효과를 발휘

## BOUNDED CONTEXT 구현

* Bounded Context가 도메인 모델만 포함하는 것이 아닌,  
  **도메인 기능을 사용자에게 제공하는 표현 영역, 응용 서비스, 인프라 영역 등을 모두 포함**

  
  **도메인 모델의 데이터 구조가 바뀌면 DB 테이블 스키마도 변경해야 하므로, 해당 테이블도 Bounded Context에 포함**

* 모든 Bounded Context를 반드시 도메인 주도로 개발할 필요는 없음
  * 도메인 기능 자체가 단순하다면 서비스-DAO로 구성된 CRUD 방식을 사용해도 무관
  * 한 Bounded Context에서 두 방식을 혼합하여 사용할 수도 있음\(대표적으로 CQRS\) 
* 각 Bounded Context는 서로 다른 구현 기술을 사용할 수도 있음
* Bounded Context가 반드시 사용자에게 보여지는 UI를 가져야 하는 것은 아님

## BOUNDED CONTEXT 간 통합



